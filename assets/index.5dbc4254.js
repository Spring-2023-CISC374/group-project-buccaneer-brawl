var R=Object.defineProperty;var F=(c,i,t)=>i in c?R(c,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[i]=t;var n=(c,i,t)=>(F(c,typeof i!="symbol"?i+"":i,t),t);import{P as o,d as y}from"./vendor.f378ba86.js";import"./__commonjsHelpers__.7619f2af.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();class g{constructor(i,t){n(this,"sprite");n(this,"timer");n(this,"action");n(this,"health");n(this,"cooldown");n(this,"hitstun");n(this,"damage");n(this,"knockbackX");n(this,"knockbackY");n(this,"fallTime");n(this,"fallCounter");n(this,"fallen");this.sprite=i,this.health=3,this.sprite.setCollideWorldBounds(!0),this.action="nothing",this.timer=0,this.health=100,this.cooldown=!0,this.hitstun=!1,this.damage=0,this.knockbackX=260,this.knockbackY=460,this.fallTime=800,this.fallCounter=0,this.fallen=!1,t&&this.sprite.setTint(t)}setHitstun(i){this.hitstun=i}setCooldown(i){this.cooldown=i}setPlayerTraction(){var i;this.sprite.body&&this.sprite.body.velocity.x>10?this.sprite.setVelocityX(this.sprite.body&&this.sprite.body.velocity.x-5):this.sprite.body&&this.sprite.body.velocity.x<-10?this.sprite.setVelocityX(((i=this.sprite)==null?void 0:i.body)&&this.sprite.body.velocity.x+5):this.sprite.setVelocityX(0)}setPlayerFallSpeed(){var i;this.sprite.body&&this.sprite.body.velocity.y<10&&this.sprite.setVelocityY(((i=this.sprite)==null?void 0:i.body)&&this.sprite.body.velocity.y+10)}movePlayer(i,t,e){if(this.hitstun){console.log("in hitstun");return}if(e===void 0)return;const s=this.sprite.body.x>e.sprite.body.x?-i:i;t==="walk_forward"?(this.sprite.setVelocityX(0),this.sprite.setVelocityX(s),this.sprite.anims.play("left",!0),this.action="walking",this.timer=0):t==="walk_back"?(this.sprite.setVelocityX(0),this.sprite.setVelocityX(-s),this.sprite.anims.play("left",!0),this.action="walking",this.timer=0):t==="jump"?(this.sprite.anims.play("right",!0),this.sprite.setVelocityY(-580),this.sprite.anims.play("left",!0),this.action="jumping"):t==="jump_forward"?(this.sprite.setVelocityY(-580),this.sprite.setVelocityX(s),this.sprite.anims.play("right",!0),this.action="jumping"):t==="jump_back"?(this.sprite.setVelocityY(-580),this.sprite.setVelocityX(-s),this.sprite.anims.play("right",!0),this.action="jumping"):this.action="waiting"}playerAttack(i){if(this.hitstun){console.log("in hitstun");return}switch(this.action="attack/"+i,(i==="crhook"||i==="uppercut"||i==="roundhouse")&&(this.action="startup/"+i),i){case"punch":this.damage=5,this.knockbackX=50,this.knockbackY=0;break;case"hook":this.damage=7,this.knockbackX=180,this.knockbackY=0;break;case"kick":this.damage=9,this.knockbackX=50,this.knockbackY=200;break;case"uppercut":this.damage=15,this.knockbackX=20,this.knockbackY=560;break;case"roundhouse":this.damage=21,this.knockbackX=360,this.knockbackY=460;break;case"crhook":this.damage=27,this.knockbackX=80,this.knockbackY=0;break}this.sprite.anims.play(i,!0)}performNextAction(i){this.action!="nothing"&&(this.timer+=i);const t=this.action.split("/")[1];let e=500;for((t==="punch"||t==="kick"||t==="hook")&&(e=250);this.timer>e;)this.timer=0,this.action="nothing",this.sprite.anims.play("turn",!0)}}const k=["wait","walk_forward","walk_back","jump","jump_forward","jump_back","kick","punch","hook","uppercut","crhook","roundhouse"];class b extends o.Scene{constructor(){super("Input Registered");n(this,"key_index",0);n(this,"key_timer",0);this.key_index=0,this.key_timer=0}validInput(t,e,s,r){this.key_timer+=e;let a=500;for(((s==null?void 0:s.action)==="attack/punch"||t[this.key_index]==="attack/kick"||t[this.key_index]==="attack/hook")&&(a=250);this.key_timer>a;){if(s&&(s.action="nothing"),this.key_timer=0,t[this.key_index]==="random"){const h=Math.floor(Math.random()*k.length);t[this.key_index]=k[h]}t[this.key_index].startsWith("walk")||t[this.key_index].startsWith("jump")?s==null||s.movePlayer(260,t[this.key_index],r):(console.log("going to attack ",t[this.key_index]),s==null||s.playerAttack(t[this.key_index])),this.key_index++,this.key_index===t.length&&(this.key_index=0)}}}class X extends o.Scene{constructor(){super({key:"FightScene"});n(this,"platforms");n(this,"cursors");n(this,"player1");n(this,"player2");n(this,"coins");n(this,"registerOne");n(this,"registerTwo");n(this,"P1_HPText");n(this,"P2_HPText");n(this,"p1_responseText");n(this,"p2_responseText");n(this,"p1_understandAmt");n(this,"p2_understandAmt");n(this,"roundTimer",99);n(this,"roundTimerdelta",0);n(this,"timerText")}init(t){this.p1_responseText=t.p1_responseText,this.p2_responseText=t.p2_responseText,this.p1_understandAmt=t.p1_understandAmtt,this.p2_understandAmt=t.p2_understandAmt}create(){var s,r;this.add.image(400,300,"pirateship").setScale(2),this.game.sound.stopAll(),this.sound.add("battlemusic").play(),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,569,"ground").setScale(2).refreshBody(),this.player1=new g(this.physics.add.sprite(100,350,"dude").setSize(54,108).setOffset(0,12).setScale(2)),this.player2=new g(this.physics.add.sprite(700,350,"dude").setSize(54,108).setOffset(70,12).setScale(2),38655),this.animationHandler(),this.physics.add.collider(this.player1.sprite,this.platforms),this.physics.add.collider(this.player2.sprite,this.platforms),this.cursors=this.input.keyboard.createCursorKeys(),this.coins=this.physics.add.group({key:"star",repeat:12,setXY:{x:o.Math.Between(0,100),y:0,stepX:o.Math.Between(70,100)}}),this.coins.children.iterate(a=>{a.setBounceY(o.Math.FloatBetween(.4,.8))}),this.physics.add.collider(this.coins,this.platforms),this.physics.add.overlap(this.player1.sprite,this.coins,this.handleCollectCoin,void 0,this),this.physics.add.overlap(this.player2.sprite,this.coins,this.handleCollectCoin,void 0,this),this.P1_HPText=this.add.text(16,16,"Player 1 HP: 0",{fontSize:"30px",color:"#000"}),this.P2_HPText=this.add.text(510,16,"Player 2 HP: 0",{fontSize:"30px",color:"#000"}),this.timerText=this.add.text(316,16,"Time: 99",{fontSize:"30px",color:"#000"}),(s=this.P1_HPText)==null||s.setText(`Player 1 HP: ${this.player1.health}`),(r=this.P2_HPText)==null||r.setText(`Player 2 HP: ${this.player2.health}`),this.player1.sprite.anims.play("turn",!0),this.player2.sprite.anims.play("turn",!0),this.registerOne=new b,this.registerTwo=new b,this.roundTimer=99,this.roundTimerdelta=0}update(t,e){var s,r,a,h,l,u,d,p,f,m;!this.cursors||(this.p1_responseText===void 0&&(this.p1_responseText=["random"],console.log(t)),(s=this.registerOne)==null||s.validInput(this.p1_responseText,e,this.player1,this.player2),this.p2_responseText===void 0&&(this.p2_responseText=["random"]),(r=this.registerTwo)==null||r.validInput(this.p2_responseText,e,this.player2,this.player1),(a=this.player1)==null||a.setPlayerTraction(),(h=this.player1)==null||h.setPlayerFallSpeed(),(l=this.player2)==null||l.setPlayerFallSpeed(),(u=this.player2)==null||u.setPlayerTraction(),this.player1&&this.player1.performNextAction(e),this.player2&&this.player2.performNextAction(e),this.player1&&this.player2&&(this.player1.sprite.body.x<this.player2.sprite.body.x?(this.player1.sprite.flipX=!1,this.player2.sprite.flipX=!0,this.player1.sprite.setOffset(0,12),this.player2.sprite.setOffset(70,12),this.attackRanges(this.player1,!0),this.attackRanges(this.player2,!1)):(this.player1.sprite.flipX=!0,this.player2.sprite.flipX=!1,this.player1.sprite.setOffset(70,12),this.player2.sprite.setOffset(0,12),this.attackRanges(this.player1,!1),this.attackRanges(this.player2,!0))),this.player1&&(this.player1.fallCounter+=e),this.player2&&(this.player2.fallCounter+=e),this.player1&&this.player2&&(console.log(this.player2.fallCounter),this.player1.fallCounter>=this.player1.fallTime&&this.player1.fallen&&(this.player1.sprite.anims.play("turn"),this.player1.sprite.clearTint(),this.player1.setHitstun(!1),this.player1.fallen=!1,this.player1.action="nothing",this.player1.fallCounter=0),this.player2.fallCounter>=this.player2.fallTime&&this.player2.fallen&&(this.player2.sprite.anims.play("turn"),this.player2.sprite.setTint(38655),this.player2.setHitstun(!1),this.player2.fallen=!1,this.player2.action="nothing",this.player2.fallCounter=0)),(((d=this.player1)==null?void 0:d.hitstun)||((p=this.player2)==null?void 0:p.hitstun))&&(((f=this.player1)==null?void 0:f.hitstun)&&this.player1.sprite.body.touching.down&&(this.player1.fallen||(this.player1.sprite.anims.play("fall"),this.player1.fallCounter=0,this.player1.fallen=!0)),((m=this.player2)==null?void 0:m.hitstun)&&this.player2.sprite.body.touching.down&&(this.player2.fallen||(this.player2.sprite.anims.play("fall"),this.player2.fallCounter=0,this.player2.fallen=!0))),this.player1&&this.player2&&this.physics.overlap(this.player1.sprite,this.player2.sprite,this.hitCallback,void 0,this),this.decrementRoundTimer(e))}attackRanges(t,e){const s=e?0:80,r=e?1:-1,a=t.action.split("/")[1];t.hitstun||((a==="crhook"&&t.timer>200&&a!==void 0||a==="roundhouse"&&t.timer>400&&a!==void 0||a==="uppercut"&&t.timer>50&&a!==void 0)&&(t.action="attack/"+a),(a==="crhook"&&t.timer>200||a==="roundhouse"&&t.timer>400||a!=="crhook"&&a!=="roundhouse")&&t.sprite.setOffset(30*r+s,12))}handleCollectCoin(t,e){e.disableBody(!0,!0),this.player1&&this.player2&&(this.player1.sprite===t?this.player1.health++:this.player2.health++)}hitCallback(t,e){var a,h,l,u;const s=t,r=e;this.player1&&this.player2&&(this.player1.action.startsWith("attack")&&this.player1.cooldown&&!this.player1.hitstun&&(this.player1.setCooldown(!1),this.player2.setHitstun(!0),this.player2.sprite.setTint(16711680),this.player1.sprite.body.x<this.player2.sprite.body.x?(s.setVelocityX(-260),r.setVelocityX(this.player1.knockbackX),r.setVelocityY(-this.player1.knockbackY),r.anims.play("hit",!0)):(s.setVelocityX(260),r.setVelocityX(-this.player1.knockbackX),r.setVelocityY(-this.player1.knockbackY),r.anims.play("hit",!0)),this.player2.health-=this.player1.damage,(a=this.P2_HPText)==null||a.setText(`Player 2 HP: ${this.player2.health}`),setTimeout(()=>{var d;this.player1&&((d=this.player1)==null||d.setCooldown(!0))},300),this.player2.health<=0&&(this.player2.health=0,this.physics.pause(),this.scene.start("ResultScene",{p1_understandAmt:this.p1_understandAmt,p2_understandAmt:this.p2_understandAmt,who_won:"RedBeard"})),this.physics.add.group({key:"star",repeat:12,setXY:{x:o.Math.Between(0,100),y:0,stepX:o.Math.Between(70,100)}}),(h=this.coins)==null||h.children.iterate(d=>{const p=d;p.enableBody(!0,p.x,0,!0,!0)})),this.player2.action.startsWith("attack")&&this.player2.cooldown&&!this.player2.hitstun&&(this.player2.setCooldown(!1),this.player1.setHitstun(!0),this.player1.sprite.setTint(16711680),this.player1.sprite.body.x>this.player2.sprite.body.x?(r.setVelocityX(-260),s.setVelocityX(this.player2.knockbackX),s.setVelocityY(-this.player2.knockbackY),s.anims.play("hit",!0)):(r.setVelocityX(260),s.setVelocityX(-this.player2.knockbackX),s.setVelocityY(-this.player2.knockbackY),s.anims.play("hit",!0)),this.player1.health-=this.player2.damage,(l=this.P1_HPText)==null||l.setText(`Player 1 HP: ${this.player1.health}`),setTimeout(()=>{var d;this.player2&&((d=this.player2)==null||d.setCooldown(!0))},300),this.player1.health<=0&&(this.player1.health=0,this.physics.pause(),this.scene.start("ResultScene",{p1_understandAmt:this.p1_understandAmt,p2_understandAmt:this.p2_understandAmt,who_won:"BluBeard"})),this.physics.add.group({key:"star",repeat:12,setXY:{x:o.Math.Between(0,100),y:0,stepX:o.Math.Between(70,100)}}),(u=this.coins)==null||u.children.iterate(d=>{const p=d;p.enableBody(!0,p.x,0,!0,!0)})))}decrementRoundTimer(t){var e,s,r;if(this.roundTimerdelta+=t,this.roundTimerdelta>900&&(this.roundTimerdelta=0,this.roundTimer--,(e=this.timerText)==null||e.setText(`Time: ${this.roundTimer}`)),this.roundTimer<=0){let a="RedBeard";this.player1&&this.player2&&((s=this.player1)==null?void 0:s.health)<((r=this.player2)==null?void 0:r.health)&&(a="BluBeard"),this.scene.start("ResultScene",{p1_understandAmt:this.p1_understandAmt,p2_understandAmt:this.p2_understandAmt,who_won:a})}}handleKeyboardInput(t,e){const s=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.LEFT),r=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.RIGHT),a=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.UP),h=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.A),l=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.D),u=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.W),d=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.I),p=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.O),f=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.P),m=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.J),_=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.K),T=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.L),A=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.E),C=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.R),S=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.T),P=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.F),K=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.G),v=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.H),I=this.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.Z);s.on("down",()=>{t.sprite.body.touching.down&&t.movePlayer(260,"walk_back",this.player2)}),h.on("down",()=>{e.sprite.body.touching.down&&e.movePlayer(260,"walk_forward",this.player1)}),r.on("down",()=>{t.sprite.body.touching.down&&t.movePlayer(260,"walk_forward",this.player2)}),l.on("down",()=>{e.sprite.body.touching.down&&e.movePlayer(260,"walk_back",this.player1)}),a.on("down",()=>{t.sprite.body.touching.down&&t.movePlayer(-580,"jump",this.player2)}),u.on("down",()=>{e.sprite.body.touching.down&&e.movePlayer(-580,"jump",this.player1)}),d.on("down",()=>{t&&t.playerAttack("punch")}),A.on("down",()=>{e&&e.playerAttack("punch")}),p.on("down",()=>{t&&t.playerAttack("hook")}),C.on("down",()=>{e&&e.playerAttack("hook")}),f.on("down",()=>{t&&t.playerAttack("kick")}),S.on("down",()=>{e&&e.playerAttack("kick")}),m.on("down",()=>{t&&t.playerAttack("uppercut")}),P.on("down",()=>{e&&e.playerAttack("uppercut")}),_.on("down",()=>{t&&t.playerAttack("crhook")}),K.on("down",()=>{e&&e.playerAttack("crhook")}),T.on("down",()=>{t&&t.playerAttack("roundhouse")}),v.on("down",()=>{e&&e.playerAttack("roundhouse")}),I.on("down",()=>{e&&e.sprite.anims.play("fall")})}animationHandler(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:3,end:5}),frameRate:20,repeat:-1}),this.anims.create({key:"turn",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:3,end:5}),frameRate:20,repeat:-1}),this.anims.create({key:"punch",frames:this.anims.generateFrameNumbers("dude",{start:9,end:10}),frameRate:10,repeat:-1}),this.anims.create({key:"hook",frames:this.anims.generateFrameNumbers("dude",{start:11,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"kick",frames:this.anims.generateFrameNumbers("dude",{start:13,end:14}),frameRate:10,repeat:-1}),this.anims.create({key:"uppercut",frames:this.anims.generateFrameNumbers("dude",{start:20,end:24}),frameRate:10,repeat:-1}),this.anims.create({key:"crhook",frames:this.anims.generateFrameNumbers("dude",{start:25,end:30}),frameRate:10,repeat:-1}),this.anims.create({key:"roundhouse",frames:this.anims.generateFrameNumbers("dude",{start:14,end:19}),frameRate:10,repeat:-1}),this.anims.create({key:"hit",frames:this.anims.generateFrameNumbers("dude",{start:6,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"fall",frames:this.anims.generateFrameNumbers("dude",{start:7,end:7}),frameRate:10,repeat:-1})}}const B="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",O="Please provide a sequence of actions from the following list that best represents the message:  ",H=": [walk_forward, walk_back, jump_forward, kick, punch, uppercut, crhook, roundhouse, random]. Your job is to make a new array of the message given. You can only select options from the original list, if there's anything not in the original list the array fails. If you're unable to translate something then select the random option. ",Y=new y.Configuration({apiKey:B}),V=new y.OpenAIApi(Y),x=[],w=async c=>{var i,t;try{const e="gpt-3.5-turbo",s=`${O+c+H}

Response:`,r=[];for(const[l,u]of x)r.push({role:y.ChatCompletionResponseMessageRoleEnum.User,content:l}),r.push({role:y.ChatCompletionResponseMessageRoleEnum.Assistant,content:u});r.push({role:y.ChatCompletionResponseMessageRoleEnum.User,content:s});const h=(t=(i=(await V.createChatCompletion({model:e,messages:r})).data.choices.shift())==null?void 0:i.message)==null?void 0:t.content;return h!==void 0&&x.push([s,h]),h}catch(e){throw console.error(e),new Error("Internal server error")}};class z extends o.Scene{constructor(){super({key:"InputScene"});n(this,"savedTextP1");n(this,"savedTextP2");n(this,"p1_responseText");n(this,"p2_responseText");n(this,"p1_understandAmt");n(this,"p2_understandAmt");n(this,"moveMap");this.savedTextP1="",this.savedTextP2="",this.p1_responseText=["random"],this.p2_responseText=["random"],this.p1_understandAmt=0,this.p2_understandAmt=0,this.moveMap=k.reduce((t,e)=>(t.set(e,"true"),t),new Map)}create(){this.cameras.main.setBackgroundColor("#ffffff"),this.add.text(10,10,"Enter your text:",{fontSize:"32px",color:"#000"}),this.add.text(50,60,"Player 1",{fontSize:"24px",color:"#000"});const t=document.createElement("input");t.id="myText1",t.type="text",t.className="css-class-name",t.style.position="absolute",t.style.left="50px",t.style.top="90px",document.body.appendChild(t),this.add.text(350,60,"Player 2",{fontSize:"24px",color:"#000"});const e=document.createElement("input");e.id="myText2",e.type="text",e.className="css-class-name",e.style.position="absolute",e.style.left="350px",e.style.top="90px",document.body.appendChild(e);const s=this.add.text(200,200,"Submit",{fontSize:"32px",color:"#000",backgroundColor:"#fff",padding:{left:10,right:10,top:5,bottom:5}});s.setInteractive({useHandCursor:!0}),s.on("pointerdown",()=>{this.saveInput()}),this.p1_understandAmt=0,this.p2_understandAmt=0}saveInput(){const t=document.getElementById("myText1"),e=document.getElementById("myText2");this.savedTextP1=t.value,this.savedTextP2=e.value,t.remove(),e.remove(),t.value="",e.value="",Promise.all([w(this.savedTextP1),w(this.savedTextP2)]).then(([s,r])=>{console.log(s),console.log(r),this.p1_responseText=this.formatRequest(s),this.p2_responseText=this.formatRequest(r),console.log(this.p1_responseText),console.log(this.p2_responseText),this.checkPlayerUnderstanding(),this.scene.start("FightScene",{p1_responseText:this.p1_responseText,p2_responseText:this.p2_responseText,p1_understandAmt:this.p1_understandAmt,p2_understandAmt:this.p2_understandAmt})})}formatRequest(t){if(t==null)return["random"];const e=t.indexOf("["),s=t.indexOf("]");if(e==null||s==null)return["random"];const r=t.substring(e+1,s),a=this.moveMap;return r.split(",").map(function(l){return a.has(l.trim())?l.trim():"random"})}checkPlayerUnderstanding(){this.p1_responseText.forEach(t=>{t!=="random"&&(console.log("understood a command!"),this.p1_understandAmt++)}),this.p2_responseText.forEach(t=>{t!=="random"&&(console.log("understood a command!"),this.p2_understandAmt++)}),this.p1_understandAmt=this.p1_understandAmt/this.p1_responseText.length*100,this.p2_understandAmt=this.p2_understandAmt/this.p2_responseText.length*100,console.log("understandAmount: ",this.p1_understandAmt+"%"),console.log("understandAmount: ",this.p2_understandAmt+"%")}}class M extends o.Scene{constructor(){super({key:"LoadingScene"})}preload(){const{width:i,height:t}=this.scale;this.add.text(i/2,t/2,"Buccaneer Brawl",{fontSize:"32px",fontFamily:"Arial",color:"#ffffff"}).setOrigin(.5),this.load.image("bomb","assets/bomb.png"),this.load.spritesheet("dude","assets/dude.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("titlescreen","assets/piratetitlescreen.png",{frameWidth:400,frameHeight:400}),this.load.image("pirateship","assets/pirateship.png"),this.load.image("ground","assets/platform.png"),this.load.image("sky.png","assets/sky.png"),this.load.image("star","assets/star.png"),this.load.audio("piratemusic","assets/audio/Drunken Sailor_ (String Orchestra).mp3"),this.load.audio("battlemusic","assets/audio/battle-ship-111902.mp3"),this.load.audio("resultmusic","assets/audio/Cooper Canell - Drunken Sailor no intro.mp3")}create(){this.scene.start("TitleScene")}}class E extends o.Scene{constructor(){super({key:"TitleScene"})}create(){const{width:i,height:t}=this.scale;this.add.image(i/2,t/2,"background").setScale(2);const s=this.add.sprite(400,330,"titlescreen");s.scaleX=2.5,s.scaleY=1.5,this.sound.stopAll(),this.sound.add("piratemusic").play(),this.add.text(i/2,t/4,"Buccaneer Brawl",{fontSize:"64px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5);const h=this.add.text(i/2,t/2,"Start",{fontSize:"48px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000",padding:{x:16,y:8}}),l=this.add.text(i/2,t/2,"Instructions",{fontSize:"48px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000",padding:{x:32,y:32}});h.setOrigin(.5),h.setInteractive({useHandCursor:!0}),h.on("pointerdown",()=>{this.scene.start("InputScene")}),l.setOrigin(.5,-.5),l.setInteractive({useHandCursor:!0}),l.on("pointerdown",()=>{this.scene.start("InstructionScene")})}}class N extends o.Scene{constructor(){super({key:"InstructionScene"})}create(){console.log("Instructions added");const{width:i,height:t}=this.scale;this.add.image(i/2,t/2,"background").setScale(2);const s=this.add.sprite(400,330,"titlescreen");s.scaleX=2.5,s.scaleY=1.5,this.add.text(i/4,t/4,"Instructions",{fontSize:"64px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}),this.add.text(i/2,t/2,"Ahoy, today in the game the pirates need your input.",{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-5),this.add.text(i/2,t/2,"Given two players, feed them string input whether a word or a sentence and it will command the player!",{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-6),this.add.text(i/2,t/2,"Be careful, only one winner will come out given the commands listed",{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-7),this.add.text(i/2,t/2,"Here are the commands described: ",{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-8),this.add.text(i/2,t/2," walk forward, walk back, jump forward,  kick, punch, uppercut, crhook, roundhouse",{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-9),this.add.text(i/2,t/2,'For example if you tell the player to "walk forward" the player will walk forward some amounts of spaces.',{fontSize:"16px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5,-10);const p=this.add.text(i/4,t/2,"Return to start",{fontSize:"48px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000",padding:{x:16,y:8}});p.setInteractive({useHandCursor:!0}),p.on("pointerdown",()=>{this.scene.start("TitleScene")})}}class j extends o.Scene{constructor(){super({key:"ResultScene"});n(this,"p1_understandAmt");n(this,"p2_understandAmt");n(this,"who_won");this.p1_understandAmt=0,this.p2_understandAmt=0,this.who_won="RedBeard"}init(t){this.p1_understandAmt=t.p1_understandAmtt,this.p2_understandAmt=t.p2_understandAmt,this.who_won=t.who_won}create(){const{width:t,height:e}=this.scale;this.add.image(t/2,e/2,"background").setScale(2);const r=this.add.sprite(400,330,"titlescreen");r.scaleX=2.5,r.scaleY=1.5;const a=this.sound.add("resultmusic");this.sound.stopAll(),a.play(),this.add.text(t/2,e/4,"Results:",{fontSize:"64px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000"}).setOrigin(.5),this.add.text(t/1.2,e/2.5,`RedBeard: ${this.who_won==="RedBeard"?"W":"L"} ${this.p1_understandAmt}% understanding`,{fontSize:"32px",fontFamily:"Arial",color:"#FF0000",backgroundColor:"#000000"}).setOrigin(1,.7),this.add.text(t/1.2,e/2,`BluBeard: ${this.who_won==="BluBeard"?"W":"L"} ${this.p2_understandAmt}% understanding`,{fontSize:"32px",fontFamily:"Arial",color:"#0000FF",backgroundColor:"#000000"}).setOrigin(1,.3);const d=this.add.text(t/2,e/1.5,"Brawl Again",{fontSize:"48px",fontFamily:"Arial",color:"#ffffff",backgroundColor:"#000000",padding:{x:16,y:8}});d.setScale(.5),d.setOrigin(.5,.1),d.setInteractive({useHandCursor:!0}),d.on("pointerdown",()=>{this.scene.start("InputScene")})}}const L={type:o.AUTO,parent:"app",width:800,height:600,physics:{default:"arcade",arcade:{gravity:{y:1200}}},scene:[M,E,z,N,X,j]};new o.Game(L);
